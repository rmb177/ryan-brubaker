{% extends "base.html" %}

{% block page_title %}
Prototypal vs. Functional Inheritance in JavaScript
{% endblock page_title %}

{% block content %}

<h3>Prototypal vs. Functional Inheritance in JavaScript</h3>

<p>
   If you ever found JavaScript’s prototypal inheritance confusing, do yourself a favor and open this 
   <a href="https://javascriptweblog.wordpress.com/2010/06/07/understanding-javascript-prototypes/">article</a>, open a JavaScript 
   console and code each example in the article. You will definitely come away with a better understanding of how prototypal 
   inheritance works in JavaScript.
</p>

<p>
   After reading the article, I thought a good exercise would be to compare CoffeeScript class definitions vs. the prototypal 
   inheritance style those definitions generate vs. Douglas Crockford’s functional inheritance style outlined in his book 
   <a href="https://www.amazon.com/JavaScript-Good-Parts-Douglas-Crockford/dp/0596517742/ref=sr_1_1?ie=UTF8&qid=1341945198&sr=8-1">
      JavaScript: The Good Parts</a>.
</p>


<h5>CoffeeScript Class Definitions</h5>

<p>
   The <a href="http://coffeescript.org/">CoffeeScript homepage</a> gives the following example to demonstrate CoffeeScript’s class syntax:
</p>

<script src="https://gist.github.com/3085435.js"></script>

<p>
   Anyone experienced with class-based inheritance should have little trouble understanding this code.
</p>


<h5>Prototypal Inheritance</h5>

<p>
   The JavaScript generated by the CoffeeScript compiler uses prototypal inheritance. The compiler first generates a utility 
   function that sets the properties on the child constructor and then sets up the prototype chain. It also creates a convenient 
   __super__ property that allows an object to call methods on its prototype.
</p>


<script src="https://gist.github.com/3085501.js"></script>

<p>
   The constructor functions are then generated as follows:
</p>

<script src="https://gist.github.com/3086065.js"></script>


<p>
   Notice how easily the Snake constructor can access its Animal prototype using the __super__ property.
</p>


<h5>Functional Inheritance</h5>

<p>
   In 
   <a href="http://www.amazon.com/JavaScript-Good-Parts-Douglas-Crockford/dp/0596517742/ref=sr_1_1?ie=UTF8&qid=1341945198&sr=8-1">
      JavaScript: The Good Parts</a>, Crockford advocates a functional inheritance style. Converting the original CoffeeScript code 
   to this style results in the following:
</p>


<script src="https://gist.github.com/3086157.js"></script>

<p>
   The functional style does nothing with prototypes. Inheritance is implemented by creating an object from a base function, similar 
   to a constructor, but without the need for the new operator. Access to super methods is accomplished by extending the built-in 
   Object and Function objects. Notice that any child object wanting access to a super method must create a new function pointing to 
   the super method.
</p>


<h5>Which One?</h5>

<p>
   So which method is better? Because I’m more familiar with class-based inheritance, I’d rather just use CoffeeScript and ignore the 
   underlying JavaScript implementation altogether. I like the fact that I can look at a CoffeeScript class definition and see on a 
   single line both the name of the “class” and the name of the “class” it extends. In both JavaScript implementations, I have to 
   search other lines to find the object that my object is extending. I find the use of the __super__ property a much more elegant 
   solution when it comes to super methods. The functional method for accessing super methods would not scale well if there are a 
   large number of super methods you want to access.
</p>

<p>
   Even if you decide to work at the CoffeeScript level, it’s imperative that you understand the JavaScript it compiles into. Again, 
   read the article referenced above and the generated JavaScript becomes trivial to understand.
</p>

<p>
   Finally, if you want a much more thorough comparison and richer examples of prototypal vs. functional inheritance styles, this 
   <a href="http://bolinfest.com/javascript/inheritance.php">article</a> provides both and makes a very strong case for the use of 
   prototypal inheritance.
</p>


<br />

<p class="attribution">
Originally published by my former employer, &copy; Art &amp; Logic: <a href="https://artandlogic.com/2012/07/prototypal-vs-functional-inheritance-in-javascript/">Prototypal vs. Functional Inheritance in JavaScript</a>
</p>
{% endblock content %}
